<!DOCTYPE html>
<html lang="en">
<html>
<head>
    <title>Image Processing App</title>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/gifpanel.css">
    <link rel="stylesheet" type="text/css" href="css/fileupload.css">
    <script type="text/javascript" src="javascript.js"></script>
</head>
<body>
<div id="layout">


    <div id="info">
        <h2>Serverless GIF generation on AWS</h2>
        <p>I created this site to generate some cool GIFs starting from an image, applying some custom algorithms. </p>
        <p>The site is hosted on AWS, has a complete serverless architechture, and uses
            S3, ApiGateway, Lambda, SNS and SQS. For a site this simple it´s clearly an overkill. It´s mostly created as
            a
            way to
            consolidate my AWS learning. The source code and a detailed explanation can be found on GitHub.
        </p>
    </div>

    <div id="UPLOAD">
        <div class="intro">
            <h3>Upload a photo and generate the three GIFs types shown below!</h3>
            <form id="form" enctype="multipart/form-data">
                <div class="input-group" >


                    <labelfor="file-upload" class="custom-file-upload">
                        <i class="fa fa-cloud-upload"></i>
                    </label>
                    <input  id ="file"  id="file-upload" type="file"/>
                </div>



                <button class="submit-btn" type="submit">Upload</button>
            </form>
        </div>
    </div>




    <div id="gif-examples" class="container">
        <div id="resized-">
            <img src="gifgenerationblur.gif" class="gif-img">
            <!--   <a href="gifgenerationblur.gif" class ="buttonstyle" download>
                   Download
               </a>-->
            <div>
                <button id="Button">Download gif</button>
            </div>
        </div>

        <div id="resized2-">
            <img  src="templegifgenerationcyclic.gif" class="gif-img">
            <div>
                <button id="Button2">Download gif</button>
            </div>
        </div>

        <div id="resized3-">
            <img  src="officegifgenerationrecursive.gif" class="gif-img">
            <div>
                <button id="Button3">Download gif</button>
            </div>
        </div>
    </div>


    <script>
        updateDownloadButtonOnStartUp("resized-", "gifgenerationblur.gif")
        updateDownloadButtonOnStartUp("resized2-", "templegifgenerationcyclic.gif")
        updateDownloadButtonOnStartUp("resized3-", "officegifgenerationrecursive.gif")


        const form = document.getElementById("form");
        const inputFile = document.getElementById("file");
        var formData = new FormData();
        form.addEventListener("submit", handleSubmit)
    </script>
</body>


<script>


    /*

<!--
    <div id="results">
        <div>
            <h1>Single File Uploadd</h1>
            <input type="file" id="file-uploader" accept=".jpg, .png">
            <p>Upload a file and see the output in browser console</p>

            <p id="feedback"></p>
        </div>
-->

    /* const fileUploader = null;
        fileUploader.addEventListener('change', (event) => {
            const files = event.target.files;
            const file = event.target.files[0];
            console.log('files', files);

            // show the upload feedback
            const size = file.size;
            const feedback = document.getElementById('feedback');
            var msg = `File ${files[0].name} uploaded successfully!`;

            if (size > 1024 * 1024) {
                msg = `<span style="color:red;">The allowed file size is 1MB. The file you are trying to upload is of ${returnFileSize(size)}</span>`;
            } else {
                msg = `<span style="color:green;"> A ${returnFileSize(size)} file has been uploaded successfully. </span>`;
            }

            feedback.innerHTML = msg;
        });

        function returnFileSize(number) {
            if (number < 1024) {
                return number + 'bytes';
            } else if (number >= 1024 && number < 1048576) {
                return (number / 1024).toFixed(2) + 'KB';
            } else if (number >= 1048576) {
                return (number / 1048576).toFixed(2) + 'MB';
            }
        }*/


</script>

</html>
