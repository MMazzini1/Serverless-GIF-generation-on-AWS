<!DOCTYPE html>
<html lang="en">
<html>
<head>
    <meta charset="utf-8">
    <title>Image Processing App</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/gifpanel.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <script type="text/javascript" src="js/gifs.js"></script>
    <script type="text/javascript" src="js/inputFile.js"></script>
</head>
<body>
<div id="layout">


    <h2>Serverless GIF generation on AWS</h2>
    <div id="info" style=" text-align: left;">
        <div>
            <p>This app takes an image and generates some cool GIFs. <br>
                It uses S3, API Gateway, Lambda, SNS, CloudFront, and Route 53. <br>
                Source code, architecture diagrams, and others on
                <a href='https://github.com/MMazzini1/serverless-image-processing'>GitHub</a>
                <br>
            </p>
        </div>
    </div>


    <div id="UPLOAD" style="margin-top:20px ; text-align: center;">

        <form id="form" enctype="multipart/form-data">
            <div style="display: flex">
                <div style="  flex: 2">
                    <input id="file" type="file" accept=".jpg, .png"
                           style='display:inline-block;position:relative;float:left;'/>
                    <p id="feedbackd"></p>
                    <p style=" text-align: left; font-size: 10px; display:block"> Picture must be
                        <span style="color: #ff0000">        jpg/png</span>
                        and under
                        <span style="color: #ff0000">    3 MB.</span>
                        Generation takes less than a minute. </p>

                    <p id="feedback" style=" text-align: left; font-size: 10px"></p>
                </div>
                <div style=" flex: 3">
                    <button id="generatebtn" class="submit-btn" type="submit" disabled="true"
                            style='display:inline-block;position:relative;float:left;'>GENERATE GIFS
                    </button>
                    <p id="generationFeedback" style='display:inline-block; margin-top: 0'></p>
                </div>
            </div>
        </form>
    </div>


    <div id="gif-examples" class="container">
        <div id="resized3-">
            <img src="gifs/gifgenerationrecursive.gif" class="gif-img">
            <div>
                <button id="Button3">Download</button>
            </div>
        </div>
        <div id="resized-">
            <img src="gifs/gifgenerationblur.gif" class="gif-img">
            <div>
                <button id="Button">Download</button>
            </div>
        </div>
        <div id="resized2-">
            <img src="gifs/gifgenerationcyclic.gif" class="gif-img">
            <div>
                <button id="Button2">Download</button>
            </div>
        </div>
    </div>


    <script>
        updateDownloadButtonOnStartUp("resized-", "gifs/gifgenerationrecursive.gif")
        updateDownloadButtonOnStartUp("resized2-", "gifs/gifgenerationblur.gif")
        updateDownloadButtonOnStartUp("resized3-", "gifs/gifgenerationcyclic.gif")
        const form = document.getElementById("form");
        const inputFile = document.getElementById("file");
        var formData = new FormData();
        setInputFileListener(inputFile)
        form.addEventListener("submit", handleSubmit)
    </script>
</body>
</html>
